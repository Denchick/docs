---
title: Welcome to SPQR
---

## What is SPQR?

SPQR (Stateless Postgres Query Router) is a production-ready system for horizontal scaling of PostgreSQL via sharding.

## Why SPQR

PostgreSQL is awesome, but it's hard to manage a single database with some terabytes of data and 10<sup>5</sup>+ queries per second. Existing sharding solutions focus on analytical and hybrid workloads (OLAP, HTAP). Moreover, most of those solutions do not provide a simple, painless path for the monolith \<-\> sharded transitions. That's why the [Data Platform](https://cloud.yandex.com/en-ru/services#data-platform) team of Yandex.Cloud designed SPQR.

Our team has been exploring different approaches to sharding a PostgreSQL cluster for a long time.  We have considered FDW-based sharding, CustomNode-based sharding, C-implemented lightweight query routing, and finally came to the SPQR design.

SPQR is a good fit for:

- Developers who are comfortable with Postgres and prefer not to use other database engines
- Developers who cannot or do not wish to implement sharding logic on the application level
- A database that is well splitted by a sharding key
- Single-shard OLTP queries

## Get Started

The fastest way to create an instance is by pulling the SPQR docker image and running it locally. TODO check this part

```bash
docker run \
  -v ./*path_to_config*:/router.yaml \
  -e ROUTER_CONFIG=/router.yaml \
  -e ROUTER_LOG=/dev/stdout \
  -p 0.0.0.0:6432:6432/tcp \
  -p :::6432:6432/tcp \
  -p 0.0.0.0:7000:7000/tcp \
  -p :::7000:7000/tcp \
  spqr-router
```

To connect to SPQR Router, install `psql` and run

```bash
psql -h <hostname> -U <user> -d <dbname> -p <port> -W
```

<CardGroup cols={2}>
  <Card
    title="Customize Style"
    icon="palette"
    href="https://mintlify.com/docs/settings/global"
  >
    Customize your docs to your company's colors and brands
  </Card>
  <Card
    title="Reference APIs"
    icon="code"
    href="https://mintlify.com/docs/api-playground/openapi"
  >
    Automatically generate endpoints from an OpenAPI spec
  </Card>
  <Card
    title="Add Components"
    icon="screwdriver-wrench"
    href="https://mintlify.com/docs/components/accordion"
  >
    Build interactive features and designs to guide your users
  </Card>
  <Card
    title="Get Inspiration"
    icon="stars"
    href="https://mintlify.com/customers"
  >
    Check out our showcase of our favorite documentation
  </Card>
</CardGroup>
